<!DOCTYPE html>
<html>
<head>
<title>Be My Valentine ðŸ’–</title>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
body{
    text-align:center;
    font-family:Algerian;
    background: linear-gradient(to right, #ff9a9e, #fad0c4);
    overflow:hidden;
}

button{
    padding:12px 25px;
    font-size:18px;
    margin:10px;
    border:none;
    border-radius:10px;
    cursor:pointer;
}

#yesBtn{ background:#ff4d6d; color:white; }
#noBtn{ background:#444; color:white; position:absolute; }

#catGif{ display:none; margin-top:20px; }
</style>
</head>

<body>

<h1 id="mainText"></h1>

<input type="text" id="nameInput" placeholder="Enter your name ðŸ’•">
<br><br>

<button id="yesBtn" onclick="yesClicked()">Yes ðŸ’˜</button>
<button id="noBtn" onclick="noClicked()">No ðŸ˜¢</button>

<br>
<img id="catGif" src="cat.gif" width="250">

<audio id="sadMusic" loop>
<source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
</audio>

<script>

let name = "";
let noStage = 0;

// Typing animation
function typeText(text, elementId, speed=60){
    let i=0;
    document.getElementById(elementId).innerHTML="";
    function typing(){
        if(i<text.length){
            document.getElementById(elementId).innerHTML += text.charAt(i);
            i++;
            setTimeout(typing,speed);
        }
    }
    typing();
}

// Initial text
typeText("Will you be my Valentine? ðŸ’–","mainText");

// YES CLICK
function yesClicked(){
    name = document.getElementById("nameInput").value || "My Love";
    document.getElementById("sadMusic").pause();
    typeText("Yayyyy ðŸ’• Happy Valentine's Day " + name + " ðŸ’–","mainText");
    document.getElementById("catGif").style.display="block";

    // Confetti
    confetti({
        particleCount: 200,
        spread: 120,
        origin: { y: 0.6 }
    });
}

// NO CLICK
function noClicked(){
    name = document.getElementById("nameInput").value || "baby";
    let sad = document.getElementById("sadMusic");
    sad.play();

    if(noStage==0){
        typeText("Are you sure " + name + "? ðŸ˜¢","mainText");
        noStage++;
    }
    else if(noStage==1){
        typeText("You don't love me anymore? ðŸ’”","mainText");
        noStage++;
    }
    else{
        typeText("Please say Happy Valentine's Day ðŸ¥º","mainText");
        document.getElementById("catGif").style.display="block";
    }
}

// Floating impossible NO button
let noBtn = document.getElementById("noBtn");
noBtn.addEventListener("mouseover",function(){
    let x = Math.random() * (window.innerWidth - 100);
    let y = Math.random() * (window.innerHeight - 50);
    noBtn.style.left = x + "px";
    noBtn.style.top = y + "px";
});

</script>

</body>
</html>
